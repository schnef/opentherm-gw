EESchema Schematic File Version 2  date Mon 23 Feb 2015 06:30:09 PM CET
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:sw1-524s
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 1 1
Title "OpenTherm Gateway"
Date "23 feb 2015"
Rev "1.0"
Comp "n/a"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Notes 550  6850 0    60   ~ 0
THERMOSTAT
Text Notes 600  1050 0    60   ~ 0
BOILER
Wire Wire Line
	3450 1650 3450 1900
Wire Wire Line
	3000 2500 3000 2850
Wire Wire Line
	3000 2850 1450 2850
Wire Wire Line
	6550 5300 6900 5300
Wire Wire Line
	6550 5100 6900 5100
Wire Wire Line
	6000 5200 6050 5200
Wire Wire Line
	6900 4900 6000 4900
Wire Wire Line
	6000 4900 6000 5000
Connection ~ 3950 3150
Wire Wire Line
	3950 3250 3950 3150
Wire Wire Line
	9000 1450 9150 1450
Wire Wire Line
	10300 3000 10300 3100
Wire Wire Line
	9000 3100 9050 3100
Wire Wire Line
	10250 3300 10250 3550
Wire Wire Line
	10250 3550 9050 3550
Wire Wire Line
	9050 3550 9050 3300
Wire Wire Line
	8100 900  8100 1850
Wire Wire Line
	7350 2400 7200 2400
Wire Wire Line
	7350 1750 7200 1750
Wire Wire Line
	8200 2150 7950 2150
Wire Wire Line
	7950 2150 7950 2400
Wire Wire Line
	7950 2050 8200 2050
Wire Wire Line
	8100 1850 8200 1850
Connection ~ 9050 1950
Wire Wire Line
	9000 1950 9050 1950
Connection ~ 8600 2400
Wire Wire Line
	8600 2500 8600 2400
Wire Wire Line
	9000 1050 9050 1050
Wire Wire Line
	4700 4650 4800 4650
Wire Wire Line
	4700 4450 4800 4450
Wire Wire Line
	6750 5900 6900 5900
Wire Wire Line
	6750 5400 6900 5400
Wire Wire Line
	6750 5600 6900 5600
Wire Wire Line
	6050 3350 6000 3350
Wire Wire Line
	6050 3550 6000 3550
Wire Wire Line
	6850 3550 6900 3550
Wire Wire Line
	8250 6700 8250 6850
Connection ~ 9900 5900
Wire Wire Line
	9900 5850 9900 5900
Connection ~ 9900 5200
Wire Wire Line
	9900 5250 9900 5200
Connection ~ 8950 4250
Wire Wire Line
	8950 4150 8950 4250
Wire Wire Line
	9600 4750 9600 4900
Connection ~ 10350 5550
Wire Wire Line
	10450 5550 10350 5550
Wire Wire Line
	8750 4500 8900 4500
Wire Wire Line
	6750 6300 6900 6300
Wire Wire Line
	6800 7050 6800 7100
Wire Wire Line
	1600 4100 1750 4100
Wire Wire Line
	2750 3950 2750 3800
Wire Wire Line
	2750 3800 2650 3800
Connection ~ 2350 4100
Wire Wire Line
	2250 4100 2350 4100
Wire Wire Line
	2350 3400 2350 3600
Wire Wire Line
	4200 5650 4300 5650
Wire Wire Line
	1950 5250 1950 5350
Connection ~ 2700 6600
Wire Wire Line
	2700 6700 2700 6600
Wire Wire Line
	2600 5950 2700 5950
Wire Wire Line
	2700 5950 2700 5850
Connection ~ 1950 5350
Wire Wire Line
	2700 5450 2700 5350
Wire Wire Line
	2700 5350 1250 5350
Wire Wire Line
	1550 5950 2100 5950
Wire Wire Line
	1950 5850 1950 6050
Wire Wire Line
	1250 7150 1100 7150
Wire Wire Line
	1250 6150 1250 6350
Wire Wire Line
	1950 6450 1950 6950
Wire Wire Line
	1950 6950 1100 6950
Wire Wire Line
	6750 6000 6900 6000
Wire Wire Line
	6750 6200 6900 6200
Wire Wire Line
	4150 1450 3450 1450
Wire Wire Line
	4100 1350 4100 2100
Connection ~ 2750 2850
Connection ~ 2450 2850
Connection ~ 1850 2850
Wire Wire Line
	1450 2850 1450 1850
Connection ~ 2150 1700
Wire Wire Line
	2150 1700 1850 1700
Wire Wire Line
	1850 1700 1850 2100
Wire Wire Line
	2150 1650 2150 1750
Connection ~ 1450 1350
Wire Wire Line
	1450 1450 1450 1350
Wire Wire Line
	1100 1350 1550 1350
Wire Wire Line
	1100 1150 1550 1150
Wire Wire Line
	1200 1450 1200 1150
Connection ~ 1200 1150
Wire Wire Line
	1450 1850 1200 1850
Wire Wire Line
	1950 1250 2150 1250
Connection ~ 1950 1250
Wire Wire Line
	2150 2250 2150 2350
Wire Wire Line
	1850 2850 1850 2500
Wire Wire Line
	1950 1000 1950 1350
Connection ~ 1950 1150
Wire Wire Line
	2450 2450 2450 1000
Connection ~ 2450 1450
Connection ~ 2150 2850
Wire Wire Line
	2750 1450 2450 1450
Wire Wire Line
	3000 2300 2150 2300
Connection ~ 2150 2300
Wire Wire Line
	3700 2300 3800 2300
Wire Wire Line
	3750 1350 3750 2300
Connection ~ 3750 2300
Wire Wire Line
	3750 850  4100 850 
Wire Wire Line
	4650 1450 4750 1450
Wire Wire Line
	4650 2000 4100 2000
Connection ~ 4100 2000
Wire Wire Line
	3950 800  3950 850 
Connection ~ 3950 850 
Wire Wire Line
	2050 6600 1950 6600
Connection ~ 1950 6600
Wire Wire Line
	2700 7200 2700 7350
Wire Wire Line
	2700 7350 1250 7350
Wire Wire Line
	1250 7350 1250 6850
Connection ~ 1250 7150
Connection ~ 1950 5950
Wire Wire Line
	1250 5350 1250 5750
Wire Wire Line
	3000 5650 3150 5650
Wire Wire Line
	2550 6600 2900 6600
Wire Wire Line
	2000 7500 2000 7350
Connection ~ 2000 7350
Wire Wire Line
	3550 5650 3700 5650
Wire Wire Line
	3350 5950 3350 6000
Wire Wire Line
	2350 4000 2350 4200
Wire Wire Line
	2350 4750 2350 4600
Wire Wire Line
	2750 4450 2750 4600
Wire Wire Line
	2750 4600 2350 4600
Wire Notes Line
	2900 3150 2900 4900
Wire Notes Line
	2900 3150 700  3150
Wire Notes Line
	700  3150 700  4900
Wire Notes Line
	700  4900 2900 4900
Wire Wire Line
	6900 6400 6800 6400
Wire Wire Line
	6800 6400 6800 6550
Wire Wire Line
	6800 7500 6800 7600
Wire Wire Line
	10350 5200 10350 5900
Wire Wire Line
	8250 4600 8250 4250
Wire Wire Line
	8250 4250 9600 4250
Wire Wire Line
	8350 4500 8250 4500
Connection ~ 8250 4500
Wire Wire Line
	9600 5200 9950 5200
Wire Wire Line
	9600 5400 9600 5900
Wire Wire Line
	9600 5900 9950 5900
Wire Wire Line
	9600 4900 9700 4900
Wire Wire Line
	6750 6100 6900 6100
Wire Wire Line
	6850 3350 6900 3350
Wire Wire Line
	6850 3450 6900 3450
Wire Wire Line
	6050 3450 6000 3450
Wire Wire Line
	6750 5500 6900 5500
Wire Wire Line
	6750 5800 6900 5800
Wire Wire Line
	4700 4350 4800 4350
Wire Wire Line
	4700 4550 4800 4550
Wire Wire Line
	4700 4750 4800 4750
Wire Wire Line
	9000 1250 9050 1250
Wire Wire Line
	9050 1250 9050 2400
Wire Wire Line
	9050 2400 8150 2400
Wire Wire Line
	8150 2400 8150 1450
Wire Wire Line
	8150 1450 8200 1450
Wire Wire Line
	8200 2250 8150 2250
Connection ~ 8150 2250
Wire Wire Line
	9000 1650 9050 1650
Connection ~ 9050 1650
Wire Wire Line
	8000 1050 8200 1050
Connection ~ 8100 1050
Wire Wire Line
	7950 1750 7950 1950
Wire Wire Line
	7950 1950 8200 1950
Wire Wire Line
	9000 2150 9150 2150
Wire Wire Line
	7350 2050 7200 2050
Wire Wire Line
	9750 2150 9900 2150
Connection ~ 9000 1050
Wire Wire Line
	9000 1150 9000 900 
Wire Wire Line
	9650 3650 9650 3550
Connection ~ 9650 3550
Wire Wire Line
	10300 3100 10250 3100
Wire Wire Line
	9000 1350 9150 1350
Wire Wire Line
	1650 6250 1250 6250
Connection ~ 1250 6250
Wire Wire Line
	3750 3150 4100 3150
Wire Wire Line
	4100 3150 4100 2500
Wire Wire Line
	6600 4750 6800 4750
Wire Wire Line
	6800 4750 6800 5000
Wire Wire Line
	6800 5000 6900 5000
Wire Wire Line
	6000 5100 6050 5100
Wire Wire Line
	6000 5300 6050 5300
Wire Wire Line
	6550 5200 6900 5200
Wire Wire Line
	2750 1650 2750 2450
Wire Wire Line
	3700 2500 3750 2500
Wire Wire Line
	3750 2500 3750 2650
$Comp
L PC827 IC1
U 2 1 54EAFCBF
P 3350 2400
F 0 "IC1" H 3162 2578 40  0000 C CNN
F 1 "PC827" H 3500 2215 40  0000 C CNN
F 2 "DIP8" H 3186 2225 29  0000 C CNN
	2    3350 2400
	1    0    0    -1  
$EndComp
$Comp
L PC827 IC1
U 1 1 54EAFC51
P 3100 1550
F 0 "IC1" H 2912 1728 40  0000 C CNN
F 1 "PC827" H 3250 1365 40  0000 C CNN
F 2 "DIP8" H 2936 1375 29  0000 C CNN
	1    3100 1550
	-1   0    0    -1  
$EndComp
Text Notes 5050 5250 0    60   ~ 0
led out 3x
Text Notes 4900 5050 0    60   ~ 0
analoge input
$Comp
L R R12
U 1 1 54EADDBA
P 6300 5200
F 0 "R12" V 6380 5200 50  0000 C CNN
F 1 "3K3" V 6300 5200 50  0000 C CNN
	1    6300 5200
	0    -1   -1   0   
$EndComp
$Comp
L R R13
U 1 1 54EADDAE
P 6300 5300
F 0 "R13" V 6380 5300 50  0000 C CNN
F 1 "3K3" V 6300 5300 50  0000 C CNN
	1    6300 5300
	0    -1   -1   0   
$EndComp
$Comp
L R R11
U 1 1 54EADDA6
P 6300 5100
F 0 "R11" V 6380 5100 50  0000 C CNN
F 1 "3K3" V 6300 5100 50  0000 C CNN
	1    6300 5100
	0    -1   -1   0   
$EndComp
$Comp
L R R7
U 1 1 54EADBE9
P 3750 2900
F 0 "R7" V 3830 2900 50  0000 C CNN
F 1 "330" V 3750 2900 50  0000 C CNN
	1    3750 2900
	1    0    0    -1  
$EndComp
Text GLabel 9150 1450 2    60   Output ~ 0
TXD
Text GLabel 9150 1350 2    60   Input ~ 0
RXD
$Comp
L GND #PWR12
U 1 1 54EA2861
P 9650 3650
F 0 "#PWR12" H 9650 3650 30  0001 C CNN
F 1 "GND" H 9650 3580 30  0001 C CNN
	1    9650 3650
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG3
U 1 1 54EA283D
P 10300 3000
F 0 "#FLG3" H 10300 3095 30  0001 C CNN
F 1 "PWR_FLAG" H 10300 3180 30  0000 C CNN
	1    10300 3000
	1    0    0    -1  
$EndComp
$Comp
L +24V #PWR7
U 1 1 54EA282A
P 10300 3100
F 0 "#PWR7" H 10300 3050 20  0001 C CNN
F 1 "+24V" H 10300 3200 30  0000 C CNN
	1    10300 3100
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR6
U 1 1 54EA2814
P 9000 3100
F 0 "#PWR6" H 9000 3190 20  0001 C CNN
F 1 "+5V" H 9000 3190 30  0000 C CNN
	1    9000 3100
	0    -1   -1   0   
$EndComp
$Comp
L SW1-524S U1
U 1 1 54EA27F6
P 9650 3200
F 0 "U1" H 9650 3200 60  0000 C CNN
F 1 "SW1-524S" H 9650 3200 60  0000 C CNN
	1    9650 3200
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG2
U 1 1 54EA2153
P 9000 900
F 0 "#FLG2" H 9000 995 30  0001 C CNN
F 1 "PWR_FLAG" H 9000 1080 30  0000 C CNN
	1    9000 900 
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG1
U 1 1 54EA214B
P 8100 900
F 0 "#FLG1" H 8100 995 30  0001 C CNN
F 1 "PWR_FLAG" H 8100 1080 30  0000 C CNN
	1    8100 900 
	1    0    0    -1  
$EndComp
Text GLabel 7200 2050 0    60   Input ~ 0
MISO
Text GLabel 7200 1750 0    60   Output ~ 0
MOSI
Text GLabel 7200 2400 0    60   Output ~ 0
SCK
Text GLabel 9900 2150 2    60   Input ~ 0
RESET
$Comp
L JUMPER JP3
U 1 1 54EA202D
P 9450 2150
F 0 "JP3" H 9450 2300 60  0000 C CNN
F 1 "JUMPER" H 9450 2070 40  0000 C CNN
	1    9450 2150
	-1   0    0    -1  
$EndComp
$Comp
L JUMPER JP4
U 1 1 54EA1F5C
P 7650 2400
F 0 "JP4" H 7650 2550 60  0000 C CNN
F 1 "JUMPER" H 7650 2320 40  0000 C CNN
	1    7650 2400
	1    0    0    -1  
$EndComp
$Comp
L JUMPER JP2
U 1 1 54EA1F57
P 7650 2050
F 0 "JP2" H 7650 2200 60  0000 C CNN
F 1 "JUMPER" H 7650 1970 40  0000 C CNN
	1    7650 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR5
U 1 1 54EA1ED7
P 8600 2500
F 0 "#PWR5" H 8600 2500 30  0001 C CNN
F 1 "GND" H 8600 2430 30  0001 C CNN
	1    8600 2500
	1    0    0    -1  
$EndComp
$Comp
L CONN_13X2 P2
U 1 1 54EA1C7B
P 8600 1650
F 0 "P2" H 8600 2350 60  0000 C CNN
F 1 "CONN_13X2" V 8600 1650 50  0000 C CNN
	1    8600 1650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR3
U 1 1 54EA1E45
P 9050 1050
F 0 "#PWR3" H 9050 1140 20  0001 C CNN
F 1 "+5V" H 9050 1140 30  0000 C CNN
	1    9050 1050
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR2
U 1 1 54EA1E10
P 8000 1050
F 0 "#PWR2" H 8000 1010 30  0001 C CNN
F 1 "+3.3V" H 8000 1160 30  0000 C CNN
	1    8000 1050
	0    -1   -1   0   
$EndComp
NoConn ~ 9000 2250
NoConn ~ 9000 2050
NoConn ~ 9000 1850
NoConn ~ 9000 1750
NoConn ~ 9000 1550
NoConn ~ 8200 1750
NoConn ~ 8200 1650
NoConn ~ 8200 1550
NoConn ~ 8200 1350
NoConn ~ 8200 1250
NoConn ~ 8200 1150
$Comp
L JUMPER JP1
U 1 1 54EA1D33
P 7650 1750
F 0 "JP1" H 7650 1900 60  0000 C CNN
F 1 "JUMPER" H 7650 1670 40  0000 C CNN
	1    7650 1750
	1    0    0    -1  
$EndComp
Text GLabel 4800 4350 2    60   Output ~ 0
TXD
Text GLabel 4800 4450 2    60   Input ~ 0
RXD
$Comp
L +5V #PWR15
U 1 1 54EA1AB7
P 4800 4550
F 0 "#PWR15" H 4800 4640 20  0001 C CNN
F 1 "+5V" H 4800 4640 30  0000 C CNN
	1    4800 4550
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR16
U 1 1 54EA1A96
P 4800 4650
F 0 "#PWR16" H 4800 4610 30  0001 C CNN
F 1 "+3.3V" H 4800 4760 30  0000 C CNN
	1    4800 4650
	0    1    1    0   
$EndComp
$Comp
L GND #PWR18
U 1 1 54EA1A8B
P 4800 4750
F 0 "#PWR18" H 4800 4750 30  0001 C CNN
F 1 "GND" H 4800 4680 30  0001 C CNN
	1    4800 4750
	0    -1   -1   0   
$EndComp
Text Notes 4800 4250 2    60   ~ 0
ARDUINO INTERFACE
Text Notes 6850 3200 2    60   ~ 0
EXTERNAL PROGRAM
$Comp
L CONN_5 P4
U 1 1 54EA1A29
P 4300 4550
F 0 "P4" V 4250 4550 50  0000 C CNN
F 1 "CONN_5" V 4350 4550 50  0000 C CNN
	1    4300 4550
	-1   0    0    1   
$EndComp
$Comp
L CONN_4 P5
U 1 1 54EA1895
P 5650 5150
F 0 "P5" V 5600 5150 50  0000 C CNN
F 1 "CONN_4" V 5700 5150 50  0000 C CNN
	1    5650 5150
	-1   0    0    -1  
$EndComp
Text GLabel 6750 5900 0    60   Output ~ 0
TXD
Text GLabel 6750 5800 0    60   Input ~ 0
RXD
Text GLabel 6750 5400 0    60   Output ~ 0
MOSI
Text GLabel 6750 5500 0    60   Input ~ 0
MISO
Text GLabel 6750 5600 0    60   Output ~ 0
SCK
Text GLabel 6900 3450 2    60   Output ~ 0
MOSI
Text GLabel 6000 3350 0    60   Input ~ 0
MISO
Text GLabel 6000 3450 0    60   Output ~ 0
SCK
Text GLabel 6000 3550 0    60   Output ~ 0
RESET
$Comp
L +3.3V #PWR9
U 1 1 54EA1610
P 6900 3350
F 0 "#PWR9" H 6900 3310 30  0001 C CNN
F 1 "+3.3V" H 6900 3460 30  0000 C CNN
	1    6900 3350
	0    1    1    0   
$EndComp
$Comp
L GND #PWR11
U 1 1 54EA15EA
P 6900 3550
F 0 "#PWR11" H 6900 3550 30  0001 C CNN
F 1 "GND" H 6900 3480 30  0001 C CNN
	1    6900 3550
	0    -1   -1   0   
$EndComp
$Comp
L CONN_3X2 P3
U 1 1 54EA15C5
P 6450 3500
F 0 "P3" H 6450 3750 50  0000 C CNN
F 1 "CONN_3X2" V 6450 3550 40  0000 C CNN
	1    6450 3500
	1    0    0    -1  
$EndComp
Text GLabel 6750 6100 0    60   Input ~ 0
FROM THERM
$Comp
L GND #PWR22
U 1 1 54EA11F4
P 8250 6850
F 0 "#PWR22" H 8250 6850 30  0001 C CNN
F 1 "GND" H 8250 6780 30  0001 C CNN
	1    8250 6850
	1    0    0    -1  
$EndComp
Text GLabel 9700 4900 2    60   Input ~ 0
RESET
$Comp
L +3.3V #PWR13
U 1 1 54EA115D
P 8950 4150
F 0 "#PWR13" H 8950 4110 30  0001 C CNN
F 1 "+3.3V" H 8950 4260 30  0000 C CNN
	1    8950 4150
	1    0    0    -1  
$EndComp
$Comp
L R R10
U 1 1 54EA1122
P 9600 4500
F 0 "R10" V 9680 4500 50  0000 C CNN
F 1 "4K7" V 9600 4500 50  0000 C CNN
	1    9600 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR20
U 1 1 54EA10C1
P 10450 5550
F 0 "#PWR20" H 10450 5550 30  0001 C CNN
F 1 "GND" H 10450 5480 30  0001 C CNN
	1    10450 5550
	0    -1   -1   0   
$EndComp
$Comp
L C C4
U 1 1 54EA10B2
P 10150 5900
F 0 "C4" H 10200 6000 50  0000 L CNN
F 1 "20p" H 10200 5800 50  0000 L CNN
	1    10150 5900
	0    -1   -1   0   
$EndComp
$Comp
L C C3
U 1 1 54EA10A9
P 10150 5200
F 0 "C3" H 10200 5300 50  0000 L CNN
F 1 "20p" H 10200 5100 50  0000 L CNN
	1    10150 5200
	0    -1   -1   0   
$EndComp
$Comp
L CRYSTAL X1
U 1 1 54EA109B
P 9900 5550
F 0 "X1" H 9900 5700 60  0000 C CNN
F 1 "11.052MHz" H 9900 5400 60  0000 C CNN
	1    9900 5550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR14
U 1 1 54EA1056
P 8900 4500
F 0 "#PWR14" H 8900 4500 30  0001 C CNN
F 1 "GND" H 8900 4430 30  0001 C CNN
	1    8900 4500
	0    -1   -1   0   
$EndComp
$Comp
L C C2
U 1 1 54EA103E
P 8550 4500
F 0 "C2" H 8600 4600 50  0000 L CNN
F 1 "100n" H 8600 4400 50  0000 L CNN
	1    8550 4500
	0    -1   -1   0   
$EndComp
Text GLabel 6750 6300 0    60   Output ~ 0
TO THERM
$Comp
L GND #PWR24
U 1 1 54EA0F1E
P 6800 7600
F 0 "#PWR24" H 6800 7600 30  0001 C CNN
F 1 "GND" H 6800 7530 30  0001 C CNN
	1    6800 7600
	1    0    0    -1  
$EndComp
$Comp
L LED D8
U 1 1 54EA0F07
P 6800 7300
F 0 "D8" H 6800 7400 50  0000 C CNN
F 1 "LED" H 6800 7200 50  0000 C CNN
	1    6800 7300
	0    1    1    0   
$EndComp
$Comp
L R R19
U 1 1 54EA0ED7
P 6800 6800
F 0 "R19" V 6800 6900 50  0000 C CNN
F 1 "3K3" V 6800 6800 50  0000 C CNN
	1    6800 6800
	-1   0    0    1   
$EndComp
Text GLabel 6600 4750 0    60   BiDi ~ 0
CAP. CHARGE
Text Notes 2000 3250 2    60   ~ 0
Optional
$Comp
L +3.3V #PWR10
U 1 1 54EA0DE0
P 2350 3400
F 0 "#PWR10" H 2350 3360 30  0001 C CNN
F 1 "+3.3V" H 2350 3510 30  0000 C CNN
	1    2350 3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR17
U 1 1 54EA0DDB
P 2350 4750
F 0 "#PWR17" H 2350 4750 30  0001 C CNN
F 1 "GND" H 2350 4680 30  0001 C CNN
	1    2350 4750
	1    0    0    -1  
$EndComp
Text GLabel 1600 4100 0    60   BiDi ~ 0
CAP. CHARGE
$Comp
L R R8
U 1 1 54EA0D52
P 2000 4100
F 0 "R8" V 2000 4100 50  0000 C CNN
F 1 "100" V 2000 4100 50  0000 C CNN
	1    2000 4100
	0    -1   -1   0   
$EndComp
$Comp
L R R9
U 1 1 54EA0D2A
P 2750 4200
F 0 "R9" V 2750 4200 50  0000 C CNN
F 1 "2M2" V 2750 4200 50  0000 C CNN
	1    2750 4200
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 54EA0D22
P 2350 4400
F 0 "C1" H 2400 4500 50  0000 L CNN
F 1 "220n" H 2400 4300 50  0000 L CNN
	1    2350 4400
	1    0    0    -1  
$EndComp
$Comp
L BC558 Q3
U 1 1 54EA0CF1
P 2450 3800
F 0 "Q3" H 2450 3651 40  0000 R CNN
F 1 "BC558" H 2450 3950 40  0000 R CNN
F 2 "TO92" H 2350 3902 29  0000 C CNN
	1    2450 3800
	-1   0    0    1   
$EndComp
$Comp
L +3.3V #PWR21
U 1 1 54EA0BD7
P 3350 6000
F 0 "#PWR21" H 3350 5960 30  0001 C CNN
F 1 "+3.3V" H 3350 6110 30  0000 C CNN
	1    3350 6000
	-1   0    0    1   
$EndComp
Text GLabel 4300 5650 2    60   Input ~ 0
TO THERM
$Comp
L +24V #PWR19
U 1 1 54EA0B86
P 1950 5250
F 0 "#PWR19" H 1950 5200 20  0001 C CNN
F 1 "+24V" H 1950 5350 30  0000 C CNN
	1    1950 5250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR23
U 1 1 54EA0B61
P 2000 7500
F 0 "#PWR23" H 2000 7500 30  0001 C CNN
F 1 "GND" H 2000 7430 30  0001 C CNN
	1    2000 7500
	1    0    0    -1  
$EndComp
Text GLabel 2900 6600 2    60   Output ~ 0
FROM THERM
$Comp
L R R15
U 1 1 54EA0A9A
P 3950 5650
F 0 "R15" H 4030 5650 50  0000 C CNN
F 1 "10K" V 3950 5650 50  0000 C CNN
	1    3950 5650
	0    -1   -1   0   
$EndComp
$Comp
L BC548 Q5
U 1 1 54EA0A55
P 3350 5750
F 0 "Q5" H 3350 5601 40  0000 R CNN
F 1 "BC548" H 3350 5900 40  0000 R CNN
F 2 "TO92" H 3250 5852 29  0000 C CNN
	1    3350 5750
	0    -1   -1   0   
$EndComp
$Comp
L BC558 Q4
U 1 1 54EA0A0D
P 2800 5650
F 0 "Q4" H 2800 5501 40  0000 R CNN
F 1 "BC558" H 2800 5800 40  0000 R CNN
F 2 "TO92" H 2700 5752 29  0000 C CNN
	1    2800 5650
	-1   0    0    1   
$EndComp
$Comp
L R R20
U 1 1 54EA0961
P 2700 6950
F 0 "R20" V 2780 6950 50  0000 C CNN
F 1 "3k9" V 2700 6950 50  0000 C CNN
	1    2700 6950
	1    0    0    -1  
$EndComp
$Comp
L R R18
U 1 1 54EA0945
P 2300 6600
F 0 "R18" H 2380 6600 50  0000 C CNN
F 1 "33K" V 2300 6600 50  0000 C CNN
	1    2300 6600
	0    -1   -1   0   
$EndComp
$Comp
L R R16
U 1 1 54EA091D
P 2350 5950
F 0 "R16" H 2430 5950 50  0000 C CNN
F 1 "39" V 2350 5950 50  0000 C CNN
	1    2350 5950
	0    -1   -1   0   
$EndComp
$Comp
L R R14
U 1 1 54EA0912
P 1950 5600
F 0 "R14" V 2030 5600 50  0000 C CNN
F 1 "100" V 1950 5600 50  0000 C CNN
	1    1950 5600
	1    0    0    -1  
$EndComp
$Comp
L BC558 Q7
U 1 1 54EA08EA
P 1850 6250
F 0 "Q7" H 1850 6101 40  0000 R CNN
F 1 "BC558" H 1850 6400 40  0000 R CNN
F 2 "TO92" H 1750 6352 29  0000 C CNN
	1    1850 6250
	1    0    0    1   
$EndComp
$Comp
L R R17
U 1 1 54EA08B9
P 1250 6600
F 0 "R17" V 1330 6600 50  0000 C CNN
F 1 "33K" V 1250 6600 50  0000 C CNN
	1    1250 6600
	1    0    0    -1  
$EndComp
$Comp
L BC558 Q6
U 1 1 54EA0895
P 1350 5950
F 0 "Q6" H 1350 5801 40  0000 R CNN
F 1 "BC558" H 1350 6100 40  0000 R CNN
F 2 "TO92" H 1250 6052 29  0000 C CNN
	1    1350 5950
	-1   0    0    1   
$EndComp
$Comp
L +3.3V #PWR1
U 1 1 54E9DFF6
P 3950 800
F 0 "#PWR1" H 3950 760 30  0001 C CNN
F 1 "+3.3V" H 3950 910 30  0000 C CNN
	1    3950 800 
	1    0    0    -1  
$EndComp
Text GLabel 6750 6000 0    60   Input ~ 0
FROM BOILER
Text GLabel 4650 2000 2    60   Output ~ 0
FROM BOILER
Text GLabel 6750 6200 0    60   Output ~ 0
TO BOILER
Text GLabel 4750 1450 2    60   Input ~ 0
TO BOILER
$Comp
L R R4
U 1 1 54E9DD30
P 4400 1450
F 0 "R4" V 4480 1450 50  0000 C CNN
F 1 "1K" V 4400 1450 50  0000 C CNN
	1    4400 1450
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR8
U 1 1 54E9DD10
P 3950 3250
F 0 "#PWR8" H 3950 3250 30  0001 C CNN
F 1 "GND" H 3950 3180 30  0001 C CNN
	1    3950 3250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 54E9DD07
P 3450 1900
F 0 "#PWR4" H 3450 1900 30  0001 C CNN
F 1 "GND" H 3450 1830 30  0001 C CNN
	1    3450 1900
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 54E9DCA9
P 4100 1100
F 0 "R3" V 4180 1100 50  0000 C CNN
F 1 "1K" V 4100 1100 50  0000 C CNN
	1    4100 1100
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 54E9DC89
P 3750 1100
F 0 "R2" V 3830 1100 50  0000 C CNN
F 1 "3K3" V 3750 1100 50  0000 C CNN
	1    3750 1100
	1    0    0    -1  
$EndComp
$Comp
L BC548 Q2
U 1 1 54E9DBDF
P 4000 2300
F 0 "Q2" H 4000 2151 40  0000 R CNN
F 1 "BC548" H 4000 2450 40  0000 R CNN
F 2 "TO92" H 3900 2402 29  0000 C CNN
	1    4000 2300
	1    0    0    -1  
$EndComp
$Comp
L ZENER D7
U 1 1 54E9D6DD
P 2750 2650
F 0 "D7" H 2750 2750 50  0000 C CNN
F 1 "4V3" H 2750 2550 40  0000 C CNN
	1    2750 2650
	0    -1   -1   0   
$EndComp
$Comp
L ZENER D6
U 1 1 54E9D6C2
P 2450 2650
F 0 "D6" H 2450 2750 50  0000 C CNN
F 1 "15V" H 2450 2550 40  0000 C CNN
	1    2450 2650
	0    -1   -1   0   
$EndComp
$Comp
L R R1
U 1 1 54E9D686
P 2200 1000
F 0 "R1" V 2280 1000 50  0000 C CNN
F 1 "330" V 2200 1000 50  0000 C CNN
	1    2200 1000
	0    -1   -1   0   
$EndComp
$Comp
L ZENER D5
U 1 1 54E9D616
P 1850 2300
F 0 "D5" H 1850 2400 50  0000 C CNN
F 1 "4V7" H 1850 2200 40  0000 C CNN
	1    1850 2300
	0    -1   -1   0   
$EndComp
$Comp
L R R6
U 1 1 54E9D5C3
P 2150 2600
F 0 "R6" V 2230 2600 50  0000 C CNN
F 1 "100" V 2150 2600 50  0000 C CNN
	1    2150 2600
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 54E9D5BA
P 2150 2000
F 0 "R5" V 2230 2000 50  0000 C CNN
F 1 "220" V 2150 2000 50  0000 C CNN
	1    2150 2000
	1    0    0    -1  
$EndComp
$Comp
L BC558 Q1
U 1 1 54E9D509
P 2250 1450
F 0 "Q1" H 2250 1301 40  0000 R CNN
F 1 "BC558" H 2250 1600 40  0000 R CNN
F 2 "TO92" H 2150 1552 29  0000 C CNN
	1    2250 1450
	-1   0    0    1   
$EndComp
$Comp
L DIODE D3
U 1 1 54E9D408
P 1200 1650
F 0 "D3" H 1200 1750 40  0000 C CNN
F 1 "1N4148" H 1200 1550 40  0000 C CNN
	1    1200 1650
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D4
U 1 1 54E9D3F4
P 1450 1650
F 0 "D4" H 1450 1750 40  0000 C CNN
F 1 "1N4148" H 1450 1550 40  0000 C CNN
	1    1450 1650
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D2
U 1 1 54E9D3ED
P 1750 1350
F 0 "D2" H 1750 1450 40  0000 C CNN
F 1 "1N4148" H 1750 1250 40  0000 C CNN
	1    1750 1350
	1    0    0    -1  
$EndComp
$Comp
L DIODE D1
U 1 1 54E9D3CB
P 1750 1150
F 0 "D1" H 1750 1250 40  0000 C CNN
F 1 "1N4148" H 1750 1050 40  0000 C CNN
	1    1750 1150
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P6
U 1 1 54E9D31F
P 750 7050
F 0 "P6" V 700 7050 40  0000 C CNN
F 1 "CONN_2" V 800 7050 40  0000 C CNN
	1    750  7050
	-1   0    0    -1  
$EndComp
$Comp
L CONN_2 P1
U 1 1 54E9D2EC
P 750 1250
F 0 "P1" V 700 1250 40  0000 C CNN
F 1 "CONN_2" V 800 1250 40  0000 C CNN
	1    750  1250
	-1   0    0    -1  
$EndComp
$Comp
L ATTINY4313-P IC2
U 1 1 54E9D095
P 8250 5700
F 0 "IC2" H 7400 6650 60  0000 C CNN
F 1 "ATTINY4313-P" H 9050 4850 60  0000 C CNN
F 2 "DIP20" H 7250 4850 60  0001 C CNN
	1    8250 5700
	-1   0    0    -1  
$EndComp
$EndSCHEMATC
